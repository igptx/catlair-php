<h1>
    Файловое хранилище контента
</h1>

<p>
    Catlair имеет определенную структуру хранения контента в файловом представлении. В отличии от хранения контента в базе данных, при файловом режиме весь контент размещен в директории <var>/var/www/html</var>. Ниже представлена файловая структура:
</p>

<ul>
    <li>
        <b>/catlair</b> - корневая папка.
        <ul>
            <li>
                 <b>/domain</b> - список файлов разрешающих имя домена в идентификатор сайта. Заполняется автоматически.
            </li>
            <li>
                 <b>/bash</b> - скрипты bash необходимые для администрирования и разработки.
            </li>
            <li>
                 <b>/session</b> - перечень файлов содержащих <cl link="Manual" id="SessionManual.html">сессии</cl>.
            </li>
            <li>
                 <b>/site</b> - контент сайтов. Содержит каталоги-идентификаторы сайтов. Примером может являться <var>site_default</var>.
                 <ul>
                     <li>
                         <b>/site_default</b>
                         <ul>
                             <li>
                                 <b>/descripts</b> - хранилище дескриптов. Каждая папка именуется идентификатором дескрипта и хранит всю информацию о дескрипте.
                                 <ul>
                                     <li>
                                         <b>/array_Post.xml</b> - файл содержащий массив $_POST при последней операции UPDATE для дескрипта.
                                     </li>
                                     <li>
                                         <b>/array_Server.xml</b> - файл содержащий массив $_SERVER при последней операции UPDATE для дескрипта.
                                     </li>
                                     <li>
                                         <b>/childs.xml</b> - файл ссылок на перечень потомков по различным связям.
                                     </li>
                                     <li>
                                         <b>/parents.xml</b> - файл ссылок на перечень родителей по различным связям.
                                     </li>

                                     <li>
                                         <b>/content_[language]</b> - файл, содержащий непосредственно контент дескрипта в случае наличия такогового на языке <var>language</var>.
                                     </li>

                                     <li>
                                         <b>/descript.xml</b> - файл описание дескрипта.
                                     </li>

                                     <li>
                                         <b>/file_[language]</b> - графический или иной файл дескрипта для языка <var>language</var> для иных языков в случае наличия.
                                     </li>

                                     <li>
                                         <b>/img_cache_[language]*</b> - кэш файл графического контента для языка <var>language</var> где * определяет URL ключ с которым был запрошен данный файл.
                                     </li>

                                     <li>
                                         <b>/img_cache_language_*</b> - кэш файл графического контента для иных языков.
                                     </li>


                                     <li>
                                         <b>/unique_*.txt</b> - простой файл уникальных поисковых слов дескрипта на инфых языках.
                                     </li>
                                 </ul>
                             </li>
                             <li>
                                 <b>/index</b> - хранилище индексных файлов для каждого языка в папках с идентификатором языка.
                                 <ul>
                                     <li>
                                         <b>/[language]</b> - папка индексных файлов сайта для языка <var>language</var>.
                                     </li>
                                     <li>
                                         <b>/language_*</b> - папка индексных файлов каждого из языков.
                                     </li>
                                 </ul>
                             </li>
                             <li>
                                 <b>/index</b> - хранилище индексных файлов сайта.
                                 <ul>
                                     <li>
                                         <b>/language_defaut</b> - хранилище файлов
                                     </li>
                                     <li>
                                         <b>/language_*</b> - папки контента для иных языков
                                     </li>
                                 </ul>
                             </li>
                             <li>
                                 <b>/php</b> - перечень файлов PHP специфичных для сайта. Базовый php код Catlair хранится в сайте site_default.
                             </li>
                         </ul>
                     </li>
                 </ul>
            </li>
        </ul>
    </li>
</ul>


<h2>
    Связи дескриптов
</h2>

<p>
    Для реализации связей дескриптов используется структура взаимных ссылок на уровне файлов.
</p>

<img src="?&image=Bind.svg" style="width:10em;">

<p>
    Дескрипт имеет файл <var>parents.xml</var> содержащий ссылка на всех родителей. Дескрипт так же имеет файл <var>childs.xml</var> содержащий ссылка на всех потомков.
</p>
